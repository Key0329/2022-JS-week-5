{"version":3,"sources":["all.js"],"names":["axios","get","then","response","data","render","areaSelector","addTicket","ticketCardArea","document","querySelector","arr","str","forEach","item","imgUrl","area","rate","name","description","group","price","innerHTML","areaSearch","searchResult","cantFind","addEventListener","e","newData","target","value","filter","length","setAttribute","addTicketBtn","ticketName","ticketPicture","ticketRegion","ticketNum","ticketRate","ticketPrice","ticketDescription","preventDefault","typeLength","alert","newTicket","id","push","Swal","fire","title","showConfirmButton","timer"],"mappings":"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","file":"all.js","sourcesContent":["/* eslint-disable no-alert */\n// const data = [\n//     {\n//         id: 0,\n//         name: '肥宅心碎賞櫻3日',\n//         imgUrl: 'https://images.unsplash.com/photo-1522383225653-ed111181a951?ixid=MXwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHw%3D&ixlib=rb-1.2.1&auto=format&fit=crop&w=1655&q=80',\n//         area: '高雄',\n//         description: '賞櫻花最佳去處。肥宅不得不去的超讚景點！',\n//         group: 87,\n//         price: 1400,\n//         rate: 10,\n//     },\n//     {\n//         id: 1,\n//         name: '貓空纜車雙程票',\n//         imgUrl: 'https://images.unsplash.com/photo-1501393152198-34b240415948?ixid=MXwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHw%3D&ixlib=rb-1.2.1&auto=format&fit=crop&w=1650&q=80',\n//         area: '台北',\n//         description: '乘坐以透明強化玻璃為地板的「貓纜之眼」水晶車廂，享受騰雲駕霧遨遊天際之感',\n//         group: 99,\n//         price: 240,\n//         rate: 2,\n//     },\n//     {\n//         id: 2,\n//         name: '台中谷關溫泉會1日',\n//         imgUrl: 'https://images.unsplash.com/photo-1535530992830-e25d07cfa780?ixid=MXwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHw%3D&ixlib=rb-1.2.1&auto=format&fit=crop&w=1650&q=80',\n//         area: '台中',\n//         description:\n//             '全館客房均提供谷關無色無味之優質碳酸原湯，並取用八仙山之山冷泉供蒞臨貴賓沐浴及飲水使用。',\n//         group: 20,\n//         price: 1765,\n//         rate: 7,\n//     },\n// ];\n\n// eslint-disable-next-line no-undef\naxios\n    .get('https://raw.githubusercontent.com/hexschool/js-training/main/travelApi.json')\n    .then((response) => {\n        const { data } = response.data;\n        render(data);\n        areaSelector(data);\n        addTicket(data);\n    });\n\n// -------------------------------- 初始渲染 ------------------------------------\n\nconst ticketCardArea = document.querySelector('.ticketCard-area');\n\nfunction render(arr) {\n    let str = '';\n    arr.forEach((item) => {\n        str += `\n\t\t<li class=\"col-4 mb-10\">\n\t\t\t<div class=\"ticketCard h-100 d-flex flex-column\">\n\t\t\t\t<div class=\"ticketCard-img position-relative flex-grow-0\">\n\t\t\t\t\t<img src= \"${item.imgUrl}\">\n\t\t\t\t\t<p class=\"ticketCard-region py-2 px-5 bg-secondary text-white position-absolute rounded-end\">${item.area}</p>\n\t\t\t\t\t<p class=\"ticketCard-rate py-1 px-2 bg-primary text-white position-absolute rounded-end\">${item.rate}</p>\n\t\t\t\t</div>\n\t\t\t\t<div class=\"ticketCard-body d-flex flex-column justify-content-between bg-white pt-5 px-5 pb-4 flex-grow-1\">\n\t\t\t\t\t<div>\n\t\t\t\t\t\t<h2 class=\"h3 pb-1 border-bottom border-primary text-primary mb-4\">${item.name}</h2>\n\t\t\t\t\t\t<p class=\"ticketCard-body-text text-wrap\">${item.description}</p>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class=\"d-flex justify-content-between\">\n\t\t\t\t\t\t<p class=\"text-primary d-flex align-items-center\"><span class=\"ticketCard-icon material-symbols-outlined me-2\">error</span>剩下最後 ${item.group} 組</p>\n\t\t\t\t\t\t<div class=\"d-flex align-items-center text-primary\">\n\t\t\t\t\t\t\t<p class=\"me-1\">TWD</p>\n\t\t\t\t\t\t\t<p class=\"fs-2 roboto\">$${item.price}</p>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</li>\n\t\t`;\n    });\n\n    ticketCardArea.innerHTML = str;\n}\n\n// render(data);\n\n// -------------------------------- 篩選區域 ------------------------------------\n\nconst areaSearch = document.querySelector('.search-region');\nconst searchResult = document.querySelector('.search-result');\nconst cantFind = document.querySelector('.cantFind-area');\n\nfunction areaSelector(arr) {\n    areaSearch.addEventListener('change', (e) => {\n        let newData = [];\n\n        if (e.target.value === '全部地區') {\n            newData = arr;\n        } else {\n            newData = arr.filter((item) => item.area === e.target.value);\n        }\n\n        if (newData.length === 0) {\n            cantFind.setAttribute('class', 'd-block');\n        } else {\n            cantFind.setAttribute('class', 'd-none');\n        }\n\n        render(newData);\n        searchResult.innerHTML = `本次搜尋共 ${newData.length} 筆資料`;\n    });\n}\n\n// areaSelector(data);\n\n// -------------------------------- 新增套票 ------------------------------------\n\nconst addTicketBtn = document.querySelector('.addBtn');\nconst ticketName = document.querySelector('#ticketName');\nconst ticketPicture = document.querySelector('#ticketPicture');\nconst ticketRegion = document.querySelector('#ticketRegion');\nconst ticketNum = document.querySelector('#ticketNum');\nconst ticketRate = document.querySelector('#ticketRate');\nconst ticketPrice = document.querySelector('#ticketPrice');\nconst ticketDescription = document.querySelector('#ticketDescription');\n\nfunction addTicket(arr) {\n    // eslint-disable-next-line consistent-return\n    addTicketBtn.addEventListener('click', (e) => {\n        e.preventDefault();\n\n        const typeLength = ticketDescription.value.length;\n\n        if (typeLength > 100) {\n            return alert('最多不超過 100 字');\n        }\n        if (ticketRate.value < 0 || ticketRate.value > 10) {\n            return alert('星級區間為 1-10 分');\n        }\n\n        const newTicket = {\n            id: arr.length,\n            name: ticketName.value,\n            imgUrl: ticketPicture.value,\n            area: ticketRegion.value,\n            description: ticketDescription.value,\n            group: ticketNum.value,\n            price: ticketPrice.value,\n            rate: ticketRate.value,\n        };\n\n        if (\n            newTicket.name === ''\n            || newTicket.imgUrl === ''\n            || newTicket.area === ''\n            || newTicket.description === ''\n            || newTicket.group === ''\n            || newTicket.price === ''\n            || newTicket.rate === ''\n        ) {\n            return alert('請確認填寫所有欄位');\n        }\n        arr.push(newTicket);\n\n        render(arr);\n\n        searchResult.innerHTML = `本次搜尋共 ${arr.length} 筆資料`;\n\n        // eslint-disable-next-line no-undef\n        Swal.fire({\n            title: '新增套票成功',\n            showConfirmButton: true,\n            timer: 1500,\n        });\n\n        areaSearch.value = '全部地區';\n\n        ticketName.value = '';\n        ticketPicture.value = '';\n        ticketRegion.value = '';\n        ticketDescription.value = '';\n        ticketNum.value = '';\n        ticketPrice.value = '';\n        ticketRate.value = '';\n    });\n}\n\n// addTicket(data);\n"]}