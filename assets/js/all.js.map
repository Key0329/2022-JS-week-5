{"version":3,"sources":["all.js"],"names":["data","ticketCardArea","document","querySelector","render","arr","str","forEach","item","imgUrl","area","rate","name","description","group","price","innerHTML","areaSearch","searchResult","areaSelector","addEventListener","e","newData","target","value","filter","length","addTicketBtn","ticketName","ticketPicture","ticketRegion","ticketNum","ticketRate","ticketPrice","ticketDescription","addTicket","preventDefault","typeLength","alert","newTicket","push","Swal","fire","icon","title","showConfirmButton","timer"],"mappings":"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","file":"all.js","sourcesContent":["let data = [\n\t{\n\t\t\"id\": 0,\n\t\t\"name\": \"肥宅心碎賞櫻3日\",\n\t\t\"imgUrl\": \"https://images.unsplash.com/photo-1522383225653-ed111181a951?ixid=MXwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHw%3D&ixlib=rb-1.2.1&auto=format&fit=crop&w=1655&q=80\",\n\t\t\"area\": \"高雄\",\n\t\t\"description\": \"賞櫻花最佳去處。肥宅不得不去的超讚景點！\",\n\t\t\"group\": 87,\n\t\t\"price\": 1400,\n\t\t\"rate\": 10\n\t},\n\t{\n\t\t\"id\": 1,\n\t\t\"name\": \"貓空纜車雙程票\",\n\t\t\"imgUrl\": \"https://images.unsplash.com/photo-1501393152198-34b240415948?ixid=MXwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHw%3D&ixlib=rb-1.2.1&auto=format&fit=crop&w=1650&q=80\",\n\t\t\"area\": \"台北\",\n\t\t\"description\": \"乘坐以透明強化玻璃為地板的「貓纜之眼」水晶車廂，享受騰雲駕霧遨遊天際之感\",\n\t\t\"group\": 99,\n\t\t\"price\": 240,\n\t\t\"rate\": 2\n\t},\n\t{\n\t\t\"id\": 2,\n\t\t\"name\": \"台中谷關溫泉會1日\",\n\t\t\"imgUrl\": \"https://images.unsplash.com/photo-1535530992830-e25d07cfa780?ixid=MXwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHw%3D&ixlib=rb-1.2.1&auto=format&fit=crop&w=1650&q=80\",\n\t\t\"area\": \"台中\",\n\t\t\"description\": \"全館客房均提供谷關無色無味之優質碳酸原湯，並取用八仙山之山冷泉供蒞臨貴賓沐浴及飲水使用。\",\n\t\t\"group\": 20,\n\t\t\"price\": 1765,\n\t\t\"rate\": 7\n\t}\n];\n\n// -------------------------------- 初始渲染 ------------------------------------\n\nconst ticketCardArea = document.querySelector('.ticketCard-area');\n\nfunction render(arr) {\n\tlet str = \"\";\n\tarr.forEach(item => {\n\t\tstr +=\n\t\t\t`\n\t\t<li class=\"col-4 mb-10\">\n\t\t\t<div class=\"ticketCard h-100 d-flex flex-column\">\n\t\t\t\t<div class=\"ticketCard-img position-relative flex-grow-0\">\n\t\t\t\t\t<img src= \"${item.imgUrl}\">\n\t\t\t\t\t<p class=\"ticketCard-region py-2 px-5 bg-secondary text-white position-absolute rounded-end\">${item.area}</p>\n\t\t\t\t\t<p class=\"ticketCard-rate py-1 px-2 bg-primary text-white position-absolute rounded-end\">${item.rate}</p>\n\t\t\t\t</div>\n\t\t\t\t<div class=\"ticketCard-body d-flex flex-column justify-content-between bg-white pt-5 px-5 pb-4 flex-grow-1\">\n\t\t\t\t\t<div>\n\t\t\t\t\t\t<h2 class=\"h3 pb-1 border-bottom border-primary text-primary mb-4\">${item.name}</h2>\n\t\t\t\t\t\t<p class=\"ticketCard-body-text text-wrap\">${item.description}</p>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class=\"d-flex justify-content-between\">\n\t\t\t\t\t\t<p class=\"text-primary d-flex align-items-center\"><span class=\"ticketCard-icon material-symbols-outlined me-2\">error</span>剩下最後 ${item.group} 組</p>\n\t\t\t\t\t\t<div class=\"d-flex align-items-center text-primary\">\n\t\t\t\t\t\t\t<p class=\"me-1\">TWD</p>\n\t\t\t\t\t\t\t<p class=\"fs-2 roboto\">$${item.price}</p>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</li>\n\t\t`\n\t})\n\n\tticketCardArea.innerHTML = str;\n}\n\nrender(data);\n\n// -------------------------------- 篩選區域 ------------------------------------\n\nconst areaSearch = document.querySelector('.search-region');\nconst searchResult = document.querySelector('.search-result');\n\nfunction areaSelector(arr) {\n\n\tareaSearch.addEventListener(\"change\", function (e) {\n\t\t// console.log(e.target.value);\n\t\tlet newData = [];\n\n\t\tif (e.target.value === \"全部地區\") {\n\t\t\tnewData = arr;\n\t\t} else {\n\t\t\tnewData = arr.filter(item => item.area === e.target.value);\n\t\t\t// console.log(newData);\n\t\t}\n\t\trender(newData);\n\t\tsearchResult.innerHTML = `本次搜尋共 ${newData.length} 筆資料`;\n\n\t})\n\n}\n\nareaSelector(data);\n\n// -------------------------------- 新增套票 ------------------------------------\n\n// {\n// \t\"id\": 2,\n// \t\"name\": \"台中谷關溫泉會1日\",\n// \t\"imgUrl\": \"https://images.unsplash.com/photo-1535530992830-e25d07cfa780?ixid=MXwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHw%3D&ixlib=rb-1.2.1&auto=format&fit=crop&w=1650&q=80\",\n// \t\"area\": \"台中\",\n// \t\"description\": \"全館客房均提供谷關無色無味之優質碳酸原湯，並取用八仙山之山冷泉供蒞臨貴賓沐浴及飲水使用。\",\n// \t\"group\": 20,\n// \t\"price\": 1765,\n// \t\"rate\": 7\n// }\n\nconst addTicketBtn = document.querySelector('.addBtn');\nconst ticketName = document.querySelector('#ticketName');\nconst ticketPicture = document.querySelector('#ticketPicture');\nconst ticketRegion = document.querySelector('#ticketRegion');\nconst ticketNum = document.querySelector('#ticketNum');\nconst ticketRate = document.querySelector('#ticketRate');\nconst ticketPrice = document.querySelector('#ticketPrice');\nconst ticketDescription = document.querySelector('#ticketDescription');\n\n\nfunction addTicket(arr) {\n\n\taddTicketBtn.addEventListener('click', (e) => {\n\t\te.preventDefault();\n\t\t// console.log(e.target);\n\n\t\tconst typeLength = ticketDescription.value.length;\n\n\t\tif (typeLength > 100) {\n\t\t\treturn alert('最多不超過 100 字');\n\t\t}\n\t\tif (ticketRate.value < 0 || ticketRate.value > 10) {\n\t\t\treturn alert('星級區間為 1-10 分');\n\t\t}\n\n\t\tlet newTicket = {\n\t\t\t\"id\": arr.length,\n\t\t\t\"name\": ticketName.value,\n\t\t\t\"imgUrl\": ticketPicture.value,\n\t\t\t\"area\": ticketRegion.value,\n\t\t\t\"description\": ticketDescription.value,\n\t\t\t\"group\": ticketNum.value,\n\t\t\t\"price\": ticketPrice.value,\n\t\t\t\"rate\": ticketRate.value\n\t\t};\n\n\t\tarr.push(newTicket);\n\n\t\trender(arr);\n\n\t\tsearchResult.innerHTML = `本次搜尋共 ${arr.length} 筆資料`;\n\n\t\tSwal.fire({\n\t\t\ticon: 'success',\n\t\t\ttitle: '新增套票成功',\n\t\t\tshowConfirmButton: false,\n\t\t\ttimer: 1500\n\t\t})\n\n\t\tareaSearch.value = \"全部地區\";\n\t})\n\n}\n\naddTicket(data);\n\n"]}